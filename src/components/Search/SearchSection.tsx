import React, {useState} from 'react';import SearchTitle from "./SearchTitle";import SearchSelect from "./SearchSelect";import {initialFilterSelect} from "../../config/initial/initialSelect";import usePersistentState from "../../hooks/usePersistentState";import {useAppDispatch} from "../../hooks/reduxHook";import {setRandomRefresh} from "../../slice/randomRefresh";function SearchSection() {    const [searchText, setSearchText] = useState(sessionStorage.getItem("search") === null ? "" : String(sessionStorage.getItem("search")));    const [category, setCategory] = useState(sessionStorage.getItem("category") === null ? "전체" : String(sessionStorage.getItem("category")));    const [, setSessionCategory] = usePersistentState("category")    const [, setSearch] = usePersistentState("search")    const dispatch = useAppDispatch()    const handlerChangeRandomRefresh = () => {        dispatch(setRandomRefresh(Math.random()))    };    const handlerChangeText = (e: React.ChangeEvent<HTMLInputElement>) => {        setSearchText(e.currentTarget.value)    }    const handlerChangeCategory = (e: React.ChangeEvent<HTMLSelectElement>) => {        setSessionCategory(e.target.value)        if(e.target.value !== "전체"){            setSearch("")        }        setCategory(e.target.value)        handlerChangeRandomRefresh()    }    const handlerSearchButton = () => {        if (searchText !== null) {            setSearch(searchText)            handlerChangeRandomRefresh()        }    }    return (        <div className="search-section">            <SearchTitle title="검색"/>            <SearchSelect value={category} handlerChangeCategory={handlerChangeCategory} options={initialFilterSelect}/>            <input  type="text" value={searchText} onChange={handlerChangeText}/>            <button onClick={handlerSearchButton} type="button">조회</button>        </div>    );}export default SearchSection;